{"version":3,"sources":["componenets/Spinner/Spinner.module.scss","componenets/UI/Map.module.scss","componenets/Input/Input.module.scss","types/adress.ts","hooks/useTypedSelector.ts","store/slices/adress.ts","hooks/useTypedActions.ts","componenets/AdressList/AdressList.tsx","assets/images/delete.png","hooks/useHttp.ts","hooks/useInput.ts","componenets/Spinner/Spinner.tsx","componenets/Input/Input.tsx","componenets/Content/Content.tsx","componenets/UI/Map.tsx","App.tsx","store/index.ts","index.tsx","componenets/AdressList/AdressList.module.scss"],"names":["module","exports","ActionTypes","useTypedSelector","useSelector","adressSlice","createSlice","name","initialState","places","draggedPlaceID","reducers","sortPlaces","state","length","sort","prev","next","id","addPlace","action","push","payload","localStorage","setItem","JSON","stringify","removePlace","filter","place","placesInLocalStorage","getItem","placesArray","parse","newArray","setCurrentDraggedPlace","changePlaceId","currentPlaceId","draggedPlace","find","currentPlace","adressReducer","reducer","adressActions","actions","allActions","useTypedActions","dispatch","useDispatch","bindActionCreators","Adresslist","adress","deleteHandler","placeId","dragLeaveHandler","e","currentTarget","style","backgroundColor","dragEndHandler","visibility","color","dragOverHandler","preventDefault","className","classes","map","idx","draggable","onDragStart","setTimeout","dragStartHandler","onDragLeave","onDragEnd","onDragOver","onDrop","dragDropHandler","replaceAll","onMouseDown","bind","onKeyDown","key","deleteHandlerWithKeyboard","tabIndex","src","alt","API_KEY","useHttp","handleData","useState","error","setError","isLoading","setIsLoading","query","a","fetch","response","json","data","pos","GeoObjectCollection","featureMember","GeoObject","Point","console","log","sendRequest","resetError","useInput","checkValidity","initialInputValueState","value","isTouched","useReducer","type","CHANGE","BLUR","RESET","inputValue","dispatchInputValue","valueIsValid","hasError","valueChangeHandler","target","valueBlurHandler","reset","Spinner","loader","str","InputAdress","isAdressValid","adressChangeHandler","adressBlurHandler","coordArr","split","Date","now","lat","Number","lng","resetAndBlur","inputAdress","document","querySelector","blur","request","inputInvalid","paraIsVisible","onClick","htmlFor","onChange","onBlur","placeholder","Content","Input","MapBasics","mapState","center","zoom","lastPlace","width","height","geometry","coordinates","properties","balloonContentBody","options","modules","prevCoords","currCoords","hintContent","strokeColor","strokeWidth","App","forEach","Map","store","configureStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3515f656.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__3hNOz\",\"load4\":\"Spinner_load4__38lCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"Map_map__KZfYL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-wrapper\":\"Input_form-wrapper__32J4K\",\"input\":\"Input_input__1y056\",\"invalid\":\"Input_invalid__1QFFi\",\"hidden\":\"Input_hidden__1EM84\",\"error-wrapper\":\"Input_error-wrapper__32CEW\",\"error-para\":\"Input_error-para__jSJQO\",\"error-btn\":\"Input_error-btn__VPVA5\"};","export interface IAdress {\r\n  value: string;\r\n  isTouched: boolean;\r\n}\r\n\r\nexport enum ActionTypes {\r\n  CHANGE = \"CHANGE\",\r\n  BLUR = \"BLUR\",\r\n  RESET = \"RESET\",\r\n}\r\n\r\nexport interface AdressAction {\r\n  type: ActionTypes;\r\n  payload?: string;\r\n}\r\n\r\nexport interface IPlace {\r\n  id: number;\r\n  adress: string;\r\n  lng: number;\r\n  lat: number;\r\n}\r\n\r\nexport interface AdressState {\r\n  places: IPlace[];\r\n  draggedPlaceID: number | null;\r\n}\r\n\r\nexport const API_KEY = \"bbe0daff-f71f-462c-a067-4eaa9c595fd8\";\r\n","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../store\";\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { AdressState, IPlace } from \"../../types/adress\";\r\n\r\nconst initialState: AdressState = {\r\n  places: [] as IPlace[],\r\n  draggedPlaceID: null,\r\n};\r\n\r\nconst adressSlice = createSlice({\r\n  name: \"adress\",\r\n  initialState,\r\n  reducers: {\r\n    sortPlaces: (state) => {\r\n      if (state.places.length > 1) {\r\n        state.places.sort((prev, next) => prev.id - next.id);\r\n      }\r\n    },\r\n\r\n    addPlace: (state, action: PayloadAction<IPlace>) => {\r\n      state.places.push(action.payload);\r\n      localStorage.setItem(\"places\", JSON.stringify(state.places));\r\n    },\r\n    removePlace: (state, action: PayloadAction<number>) => {\r\n      state.places = state.places.filter(\r\n        (place) => place.id !== action.payload\r\n      );\r\n\r\n      const placesInLocalStorage = localStorage.getItem(\"places\");\r\n      if (placesInLocalStorage) {\r\n        const placesArray: IPlace[] = JSON.parse(placesInLocalStorage);\r\n\r\n        if (placesArray.length > 0) {\r\n          const newArray = placesArray.filter(\r\n            (place) => place.id !== action.payload\r\n          );\r\n          localStorage.setItem(\"places\", JSON.stringify(newArray));\r\n        }\r\n      }\r\n    },\r\n\r\n    setCurrentDraggedPlace: (state, action: PayloadAction<number | null>) => {\r\n      state.draggedPlaceID = action.payload;\r\n    },\r\n    changePlaceId: (state, action: PayloadAction<number>) => {\r\n      const currentPlaceId = action.payload;\r\n\r\n      if (state.draggedPlaceID && state.draggedPlaceID !== currentPlaceId) {\r\n        const draggedPlace = state.places.find(\r\n          (place) => place.id === state.draggedPlaceID\r\n        );\r\n        const currentPlace = state.places.find(\r\n          (place) => place.id === currentPlaceId\r\n        );\r\n\r\n        if (draggedPlace && currentPlace) {\r\n          draggedPlace.id = currentPlaceId;\r\n          currentPlace.id = state.draggedPlaceID;\r\n        }\r\n      }\r\n\r\n      localStorage.setItem(\"places\", JSON.stringify(state.places));\r\n    },\r\n  },\r\n});\r\n\r\nexport const adressReducer = adressSlice.reducer;\r\nexport const adressActions = adressSlice.actions;\r\n","import { bindActionCreators } from \"@reduxjs/toolkit\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { adressActions } from \"../store/slices/adress\";\r\n\r\nconst allActions = {\r\n  ...adressActions,\r\n};\r\n\r\nexport const useTypedActions = () => {\r\n  const dispatch = useDispatch();\r\n  return bindActionCreators(allActions, dispatch);\r\n};\r\n","import { DragEvent, FC, KeyboardEvent } from \"react\";\r\nimport { useTypedSelector } from \"../../hooks/useTypedSelector\";\r\n\r\nimport DeleteIcon from \"../../assets/images/delete.png\";\r\n\r\nimport classes from \"./AdressList.module.scss\";\r\nimport { useTypedActions } from \"../../hooks/useTypedActions\";\r\n\r\ninterface AdresslistProps {}\r\n\r\nconst Adresslist: FC<AdresslistProps> = () => {\r\n  const { places } = useTypedSelector((state) => state.adress);\r\n  const { removePlace, setCurrentDraggedPlace, sortPlaces, changePlaceId } =\r\n    useTypedActions();\r\n\r\n  sortPlaces();\r\n\r\n  function deleteHandler(placeId: number): void {\r\n    removePlace(placeId);\r\n  }\r\n  function deleteHandlerWithKeyboard(\r\n    e: KeyboardEvent<HTMLImageElement>,\r\n    placeId: number\r\n  ): void {\r\n    if (e.key === \"Enter\") {\r\n      removePlace(placeId);\r\n    }\r\n  }\r\n\r\n  function dragStartHandler(\r\n    e: DragEvent<HTMLLIElement>,\r\n    placeId: number\r\n  ): void {\r\n    const style = e.currentTarget.style;\r\n\r\n    setTimeout(() => {\r\n      style.visibility = \"hidden\";\r\n    }, 0);\r\n\r\n    setCurrentDraggedPlace(placeId);\r\n  }\r\n  function dragLeaveHandler(e: DragEvent<HTMLLIElement>): void {\r\n    e.currentTarget.style.backgroundColor = \"#ffffff\";\r\n  }\r\n  function dragEndHandler(e: DragEvent<HTMLLIElement>): void {\r\n    e.currentTarget.style.visibility = \"visible\";\r\n    e.currentTarget.style.color = \"#000000\";\r\n    e.currentTarget.style.backgroundColor = \"#ffffff\";\r\n  }\r\n  function dragOverHandler(e: DragEvent<HTMLLIElement>): void {\r\n    e.preventDefault();\r\n    e.currentTarget.style.backgroundColor = \"#e6e6e6\";\r\n  }\r\n  function dragDropHandler(e: DragEvent<HTMLLIElement>, placeId: number): void {\r\n    e.preventDefault();\r\n    e.currentTarget.style.backgroundColor = \"#ffffff\";\r\n\r\n    changePlaceId(placeId);\r\n    setCurrentDraggedPlace(null);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {places.length === 0 && (\r\n        <p className={classes[\"empty-text\"]}>\r\n          Местоположения ещё не добавлены...\r\n        </p>\r\n      )}\r\n      {places.length > 0 && (\r\n        <ul className={classes[\"adress-list\"]}>\r\n          <h2 className={classes[\"heading-secondary\"]}>Добавленные адреса:</h2>\r\n          {places.map((place, idx) => (\r\n            <li\r\n              key={place.id}\r\n              className={classes[\"list-item\"]}\r\n              draggable={true}\r\n              onDragStart={(e) => dragStartHandler(e, place.id)}\r\n              onDragLeave={dragLeaveHandler}\r\n              onDragEnd={dragEndHandler}\r\n              onDragOver={dragOverHandler}\r\n              onDrop={(e) => dragDropHandler(e, place.id)}\r\n            >\r\n              <div>\r\n                <span>{idx + 1}. </span>\r\n                {place.adress.replaceAll(\"+\", \" \")}\r\n              </div>\r\n\r\n              <img\r\n                onMouseDown={deleteHandler.bind(null, place.id)}\r\n                onKeyDown={(e) => deleteHandlerWithKeyboard(e, place.id)}\r\n                tabIndex={0}\r\n                src={DeleteIcon}\r\n                alt=\"Delete adress\"\r\n                className={classes[\"delete-icon\"]}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Adresslist;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBDREQyRUQzNDE5QTExRUNBQzJEOTM0OTBGQjAxODRCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBDREQyRUQ0NDE5QTExRUNBQzJEOTM0OTBGQjAxODRCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MENERDJFRDE0MTlBMTFFQ0FDMkQ5MzQ5MEZCMDE4NEIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MENERDJFRDI0MTlBMTFFQ0FDMkQ5MzQ5MEZCMDE4NEIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz58maYJAAAChklEQVR42mL8//8/w3AATAzDBYBiBB2TAeaAjCITz6aKm6nkkZsUeOQmNTzCQqWI/YrEPgXELwmoFwdiMyx6yQbU8sgvJHYsEN8ioF4NKSZ+UcMBjNiSEiMjYx2QciLBHGMg5oGyrwDxWwLqhYFYB8r+AsRnSbBrL9DNzcR65P8gL6AYh23xSyiP3APi0kHi1m4gViK1HoEVjacHUaCfhrkLm5sJ5REQ/XeQeIQZ5DRceYRQ0mKkYhE9IHlkJxA7Qz3CjCT+ZwDd9xeaQvaSUo+wAikRINaFeooBWlub0tEzLNB8IQ7luwPxZSB+A3Tzb2JjBKTwORDzo4XIYzrHCHL+fAR1E1nNeK4BzC8ssMyNxS1U74+ADJ8BxMeA2ByLvCwQbwHizUAsg0XeAoiPA/F0IOakZX/ECKlOeYYlRoKQ5DdhMb4JSb4Ri/xmJPkgLDHyDEneCJ+bKY0RAbSGIDoQIkFeYCC7un/RCgh08IdA0f0bh1kjt88+6pFRj4x6ZNQjox4Z9cioR0Y9MuqRUY+MemTUI6MeGWCPIOtnJkOemVpuodQjyA5hxSLPSsAjhOSp5hHkATJsI/P7gfgBlL0Ii/41QPwTitdikV8Mpe8D8T40OdhYLza3YAIC41oGDIhxJdDYL7aRRkkg1sNjBWjiUxWPPEivBBZxNqidMPsN8LqZgEcUGCCTlf+hoepBx/zrDbUTZPcnIJanxCMs0OQBC5XbQOxAB0/YQO2C2bsaOQ+RMmOFzLVlgMxJwDLmbyj/N408AUpS9kDMAeWD5uFBU+VHkT1Cah6BgQIg/sdA/jINcjHIznyi3EzCWpQwBsioO708AbIrhNgCinF0vdYgAwABBgDYiPigg4vglgAAAABJRU5ErkJggg==\"","import { useState } from \"react\";\r\nimport { API_KEY } from \"../types/adress\";\r\n\r\nconst useHttp = function (handleData: (str: string, query: string) => void) {\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  async function sendRequest(query: string) {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `https://geocode-maps.yandex.ru/1.x/?apikey=${API_KEY}&format=json&geocode=${query}`\r\n      );\r\n      const data = await response.json();\r\n      const { pos } =\r\n        data.response.GeoObjectCollection.featureMember[0].GeoObject.Point;\r\n      handleData(pos, query);\r\n    } catch (err) {\r\n      setError(\"Пожалуйста, введите корректные данные по образцу\");\r\n      console.log(err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  function resetError(): void {\r\n    setError(null);\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return { sendRequest, error, isLoading, resetError };\r\n};\r\nexport default useHttp;\r\n","import { ChangeEvent, useReducer } from \"react\";\r\nimport { ActionTypes, AdressAction, IAdress } from \"../types/adress\";\r\n\r\nconst useInput = function (checkValidity: (str: string) => boolean) {\r\n  const initialInputValueState: IAdress = {\r\n    value: \"\",\r\n    isTouched: false,\r\n  };\r\n  function setInputValueState(\r\n    state = initialInputValueState,\r\n    action: AdressAction\r\n  ): IAdress {\r\n    switch (action.type) {\r\n      case ActionTypes.CHANGE:\r\n        return { value: action.payload!, isTouched: state.isTouched };\r\n      case ActionTypes.BLUR:\r\n        return { value: state.value, isTouched: true };\r\n      case ActionTypes.RESET:\r\n        return { value: \"\", isTouched: false };\r\n      default:\r\n        return initialInputValueState;\r\n    }\r\n  }\r\n\r\n  const [inputValue, dispatchInputValue] = useReducer(\r\n    setInputValueState,\r\n    initialInputValueState\r\n  );\r\n\r\n  const valueIsValid = checkValidity(inputValue.value);\r\n  const hasError = !valueIsValid && inputValue.isTouched;\r\n\r\n  const valueChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    dispatchInputValue({ type: ActionTypes.CHANGE, payload: e.target.value });\r\n  };\r\n  const valueBlurHandler = () => {\r\n    dispatchInputValue({ type: ActionTypes.BLUR });\r\n  };\r\n  const reset = () => {\r\n    dispatchInputValue({ type: ActionTypes.RESET });\r\n  };\r\n\r\n  return {\r\n    value: inputValue.value,\r\n    valueIsValid,\r\n    hasError,\r\n    valueChangeHandler,\r\n    valueBlurHandler,\r\n    reset,\r\n  };\r\n};\r\nexport default useInput;\r\n","import classes from \"./Spinner.module.scss\";\r\n\r\nconst Spinner = () => {\r\n  return <div className={classes.loader}>Loading...</div>;\r\n};\r\nexport default Spinner;\r\n","import { FC, KeyboardEvent } from \"react\";\r\nimport useHttp from \"../../hooks/useHttp\";\r\nimport useInput from \"../../hooks/useInput\";\r\nimport { useTypedActions } from \"../../hooks/useTypedActions\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\n\r\nimport classes from \"./Input.module.scss\";\r\n\r\nfunction checkValidity(str: string): boolean {\r\n  return str.length > 0;\r\n}\r\n\r\nconst InputAdress: FC = () => {\r\n  const { addPlace } = useTypedActions();\r\n\r\n  const {\r\n    value: adress,\r\n    hasError,\r\n    valueIsValid: isAdressValid,\r\n    valueChangeHandler: adressChangeHandler,\r\n    valueBlurHandler: adressBlurHandler,\r\n    reset,\r\n  } = useInput(checkValidity);\r\n\r\n  function handleData(data: string, adress: string): void {\r\n    const coordArr = data.split(\" \");\r\n    const place = {\r\n      id: Date.now(),\r\n      adress,\r\n      lat: Number(coordArr[0]),\r\n      lng: Number(coordArr[1]),\r\n    };\r\n\r\n    addPlace(place);\r\n  }\r\n  const { error, isLoading, sendRequest, resetError } = useHttp(handleData);\r\n\r\n  function resetAndBlur(): void {\r\n    const inputAdress: HTMLInputElement | null =\r\n      document.querySelector(\"#adress\");\r\n    if (inputAdress) {\r\n      inputAdress.blur();\r\n      reset();\r\n    }\r\n  }\r\n\r\n  async function searchHandler(\r\n    e: KeyboardEvent<HTMLInputElement>\r\n  ): Promise<void> {\r\n    if (e.key === \"Enter\" && isAdressValid) {\r\n      const request = adress.replaceAll(\" \", \"+\");\r\n      sendRequest(request);\r\n      resetAndBlur();\r\n    }\r\n  }\r\n\r\n  const inputInvalid = hasError ? classes[\"invalid\"] : \"\";\r\n  const paraIsVisible = hasError ? \"\" : classes[\"hidden\"];\r\n\r\n  return (\r\n    <div className={classes[\"form-wrapper\"]}>\r\n      {isLoading && <Spinner />}\r\n      {!isLoading && error && (\r\n        <div className={classes[\"error-wrapper\"]}>\r\n          <p className={classes[\"error-para\"]}>Запрос неверный...</p>\r\n          <button onClick={resetError} className={classes[\"error-btn\"]}>\r\n            Повторить\r\n          </button>\r\n        </div>\r\n      )}\r\n      {!isLoading && !error && (\r\n        <div className={classes[\"input\"]}>\r\n          <label htmlFor=\"adress\">Введите корректный адрес:</label>\r\n          <input\r\n            className={inputInvalid}\r\n            type=\"text\"\r\n            name=\"adress\"\r\n            id=\"adress\"\r\n            value={adress}\r\n            onChange={adressChangeHandler}\r\n            onBlur={adressBlurHandler}\r\n            onKeyDown={searchHandler}\r\n            placeholder=\"город Москва, улица Ленина, дом 2\"\r\n          />\r\n          <p className={paraIsVisible}>Пожалуйста, введите корректный адрес</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputAdress;\r\n","import { FC } from \"react\";\r\nimport Adresslist from \"../AdressList/AdressList\";\r\nimport InputAdress from \"../Input/Input\";\r\n\r\nimport classes from \"./Content.module.scss\";\r\n\r\nconst Content: FC = () => {\r\n  return (\r\n    <div className={classes[\"content-wrapper\"]}>\r\n      <InputAdress />\r\n      <Adresslist />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n","import { FC } from \"react\";\r\nimport { YMaps, Map, GeoObject } from \"react-yandex-maps\";\r\nimport { useTypedSelector } from \"../../hooks/useTypedSelector\";\r\n\r\nimport classes from \"./Map.module.scss\";\r\n\r\nconst MapBasics: FC = () => {\r\n  const { places } = useTypedSelector((state) => state.adress);\r\n\r\n  let mapState: any = { center: [55.752, 37.615], zoom: 10 };\r\n\r\n  if (places.length > 0) {\r\n    const lastPlace = places[places.length - 1];\r\n    const lastPlaceLng = lastPlace.lng;\r\n    const lastPlaceLat = lastPlace.lat;\r\n\r\n    mapState = { center: [lastPlaceLng, lastPlaceLat], zoom: 10 };\r\n  }\r\n\r\n  return (\r\n    <YMaps>\r\n      <div id=\"map\" className={classes[\"map\"]}>\r\n        <Map state={mapState} width={\"50rem\"} height={\"50rem\"}>\r\n          {places.length > 0 &&\r\n            places.map((place, idx) => (\r\n              <GeoObject\r\n                key={place.id}\r\n                geometry={{\r\n                  type: \"Point\",\r\n                  coordinates: [place.lng, place.lat],\r\n                }}\r\n                properties={{\r\n                  balloonContentBody: [\r\n                    `<div style=\"text-align: center\">\r\n                      ${idx + 1} - ${place.adress.replaceAll(\"+\", \" \")}\r\n                    </div>`,\r\n                  ],\r\n                }}\r\n                options={{\r\n                  draggable: false,\r\n                }}\r\n                modules={[\"geoObject.addon.balloon\", \"geoObject.addon.hint\"]}\r\n              />\r\n            ))}\r\n          {places.length > 1 &&\r\n            places.map((place, idx) => {\r\n              if (idx > 0) {\r\n                const prevCoords = [places[idx - 1].lng, places[idx - 1].lat];\r\n                const currCoords = [places[idx].lng, places[idx].lat];\r\n\r\n                return (\r\n                  <GeoObject\r\n                    key={place.id}\r\n                    geometry={{\r\n                      type: \"LineString\",\r\n                      coordinates: [prevCoords, currCoords],\r\n                    }}\r\n                    properties={{\r\n                      hintContent: place.adress,\r\n                    }}\r\n                    options={{\r\n                      strokeColor: \"#000000\",\r\n                      strokeWidth: 4,\r\n                    }}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n        </Map>\r\n      </div>\r\n    </YMaps>\r\n  );\r\n};\r\n\r\nexport default MapBasics;\r\n","import \"./App.scss\";\nimport Content from \"./componenets/Content/Content\";\nimport Map from \"./componenets/UI/Map\";\nimport { useTypedActions } from \"./hooks/useTypedActions\";\nimport { IPlace } from \"./types/adress\";\n\nfunction App() {\n  const { addPlace } = useTypedActions();\n\n  const placesInLocalStorage = localStorage.getItem(\"places\");\n  if (placesInLocalStorage) {\n    const placesArray: IPlace[] = JSON.parse(placesInLocalStorage);\n\n    if (placesInLocalStorage.length > 0) {\n      placesArray.forEach((place) => addPlace(place));\n    }\n  }\n\n  return (\n    <div className=\"app\">\n      <h1 className=\"heading-primary\">Mapty Application</h1>\n      <div className=\"content-wrapper\">\n        <Content />\n        <Map />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { adressReducer } from \"./slices/adress\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    adress: adressReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;\r\n","import ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adress-list\":\"AdressList_adress-list__3hdhG\",\"list-item\":\"AdressList_list-item__2MsKs\",\"empty-text\":\"AdressList_empty-text__Y2y3q\",\"delete-icon\":\"AdressList_delete-icon__1iv8K\",\"heading-secondary\":\"AdressList_heading-secondary__2Ca9j\"};"],"sourceRoot":""}